% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fun_pdp_data.R
\name{fun_pdp_data}
\alias{fun_pdp_data}
\title{Partial Dependence Data Extraction for ranger Models}
\usage{
fun_pdp_data(
  data,
  fit,
  response,
  vars = NULL,
  pal = rev(RColorBrewer::brewer.pal(11, "RdYlBu")),
  gridSize = 10,
  nmax = 500,
  nIce = 30,
  predictFun = NULL,
  limits = NULL,
  colorVar = NULL,
  probability = FALSE
)
}
\arguments{
\item{data}{A data frame containing the predictor variables and the response.}

\item{fit}{A fitted \code{ranger} model object.}

\item{response}{Character string. The name of the response variable in \code{data}.}

\item{vars}{Character vector of predictor variables for which PDP/ICE data should be generated.
If \code{NULL}, all predictors except \code{response} are used.}

\item{pal}{Colour palette (unused here but kept for API compatibility).}

\item{gridSize}{Integer. Number of points to evaluate in the grid for each variable.}

\item{nmax}{Integer. Maximum number of rows sampled from \code{data} for ICE computation.}

\item{nIce}{Integer. Number of ICE curves to sample.}

\item{predictFun}{Optional custom prediction function. If \code{NULL}, uses the default from \code{vivid}.}

\item{limits}{Optional numeric vector of y-axis limits. If \code{NULL}, computed from the data.}

\item{colorVar}{Optional variable name for colouring ICE curves (instead of prediction values).}
}
\value{
A list of length 2:
  \item{ice_data}{Tibble with ICE curve data (same structure as \code{pdp[[1]]$data}).}
  \item{pdp_data}{Tibble with aggregated PDP curve data (mean over ICE curves).}
  \item{.id}{Enumerates the the observations in the dataset.}
  \item{.pid}{Enumerates the variables.}
}
\description{
Generates the data required to plot ICE curves and the aggregated partial
dependence (PDP) curve for a fitted \code{ranger} model, using the
\code{vivid::pdpVars} approach for grid creation, sampling, and prediction.
No plotting is performed â€” the output can be passed to custom plotting code.
}
